<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ember & Ash ‚Äî A New Dining Experience</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --cream: #f5f0e8; --charcoal: #1a1a18; --ember: #c4622d;
  --gold: #b89a5a; --smoke: #e8e2d8; --text-muted: #6b6455;
  --green: #2d7a4f; --red: #b03030;
}
html { scroll-behavior: smooth; }
body { font-family: 'DM Sans', sans-serif; background: var(--cream); color: var(--charcoal); overflow-x: hidden; }

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
.hero { min-height: 100vh; background: var(--charcoal); display: grid; place-items: center; position: relative; overflow: hidden; }
.hero::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse 60% 50% at 50% 80%, rgba(196,98,45,0.35) 0%, transparent 70%); pointer-events: none; }
.hero::after { content: ''; position: absolute; inset: 0; background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E"); opacity: 0.4; pointer-events: none; }
.hero-content { text-align: center; position: relative; z-index: 1; animation: fadeUp 1.2s ease both; }
.badge { display: inline-block; font-size: 11px; font-weight: 500; letter-spacing: 0.25em; text-transform: uppercase; color: var(--gold); border: 1px solid rgba(184,154,90,0.4); padding: 6px 18px; border-radius: 50px; margin-bottom: 2rem; animation: fadeUp 1.2s 0.1s ease both; }
.hero h1 { font-family: 'Cormorant Garamond', serif; font-size: clamp(4rem,12vw,9rem); font-weight: 300; color: var(--cream); line-height: 0.9; letter-spacing: -0.02em; animation: fadeUp 1.2s 0.2s ease both; }
.hero h1 em { font-style: italic; color: var(--ember); }
.hero-sub { font-size: 15px; font-weight: 300; color: rgba(245,240,232,0.5); letter-spacing: 0.08em; margin-top: 1.5rem; animation: fadeUp 1.2s 0.35s ease both; }
.scroll-cta { display: inline-flex; align-items: center; gap: 10px; margin-top: 3.5rem; font-size: 13px; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(245,240,232,0.4); text-decoration: none; transition: color 0.3s; animation: fadeUp 1.2s 0.5s ease both; }
.scroll-cta:hover { color: var(--ember); }
.scroll-cta .line { width: 40px; height: 1px; background: currentColor; transition: width 0.3s; }
.scroll-cta:hover .line { width: 60px; }

/* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
nav { position: sticky; top: 0; z-index: 200; background: rgba(245,240,232,0.95); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(26,26,24,0.08); padding: 0 5%; display: flex; align-items: center; justify-content: space-between; height: 64px; }
.nav-logo { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; font-weight: 600; letter-spacing: 0.05em; }
.nav-logo span { color: var(--ember); }
.nav-links { display: flex; gap: 2rem; list-style: none; align-items: center; }
.nav-links a { font-size: 13px; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); text-decoration: none; transition: color 0.2s; }
.nav-links a:hover { color: var(--ember); }
.nav-reserve { background: var(--ember); color: #fff !important; padding: 8px 20px !important; border-radius: 4px; letter-spacing: 0.08em !important; }
.nav-reserve:hover { background: #a8521f !important; }
.cart-nav-btn { position: relative; background: var(--charcoal); border: none; cursor: pointer; color: var(--cream); padding: 8px 18px; border-radius: 4px; font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 500; letter-spacing: 0.05em; display: flex; align-items: center; gap: 8px; transition: background 0.2s; }
.cart-nav-btn:hover { background: var(--ember); }
.cart-count { background: var(--ember); color: #fff; font-size: 11px; font-weight: 700; width: 20px; height: 20px; border-radius: 50%; display: grid; place-items: center; transition: transform 0.2s; }
.cart-count.bump { animation: bump 0.3s ease; }

/* ‚îÄ‚îÄ SECTIONS ‚îÄ‚îÄ */
section { padding: 100px 5%; }
.section-label { font-size: 11px; font-weight: 500; letter-spacing: 0.3em; text-transform: uppercase; color: var(--ember); margin-bottom: 1rem; }
.section-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(2.5rem,5vw,4rem); font-weight: 300; line-height: 1.1; }

/* ‚îÄ‚îÄ FILTERS ‚îÄ‚îÄ */
.menu-header { display: flex; flex-wrap: wrap; align-items: flex-end; justify-content: space-between; gap: 2rem; margin-bottom: 3rem; }
.filters { display: flex; gap: 0.5rem; flex-wrap: wrap; }
.filter-btn { padding: 8px 20px; border-radius: 50px; border: 1.5px solid rgba(26,26,24,0.15); background: transparent; font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 500; color: var(--text-muted); cursor: pointer; transition: all 0.25s; }
.filter-btn:hover { border-color: var(--ember); color: var(--ember); }
.filter-btn.active { background: var(--charcoal); border-color: var(--charcoal); color: var(--cream); }

/* ‚îÄ‚îÄ MENU GRID ‚îÄ‚îÄ */
.menu-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; }
.card { background: #fff; border-radius: 12px; overflow: hidden; transition: transform 0.3s, box-shadow 0.3s; position: relative; animation: fadeUp 0.5s ease both; }
.card:hover { transform: translateY(-6px); box-shadow: 0 20px 50px rgba(26,26,24,0.12); }
.card.hidden { display: none; }
.card-img { height: 200px; background-size: cover; background-position: center; position: relative; }
.card-badge { position: absolute; top: 12px; left: 12px; background: var(--charcoal); color: var(--cream); font-size: 10px; font-weight: 500; letter-spacing: 0.15em; text-transform: uppercase; padding: 4px 10px; border-radius: 4px; }
.card-badge.new { background: var(--ember); }
.card-badge.veg { background: #3a7d44; }
.card-badge.spicy { background: #9b1d1d; }
.card-body { padding: 1.25rem 1.5rem 1.5rem; }
.card-category { font-size: 10px; font-weight: 500; letter-spacing: 0.2em; text-transform: uppercase; color: var(--gold); margin-bottom: 0.4rem; }
.card-title { font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; font-weight: 600; color: var(--charcoal); margin-bottom: 0.5rem; line-height: 1.2; }
.card-desc { font-size: 13px; font-weight: 300; color: var(--text-muted); line-height: 1.7; margin-bottom: 1.25rem; }
.card-footer { display: flex; align-items: center; justify-content: space-between; }
.price { font-family: 'Cormorant Garamond', serif; font-size: 1.6rem; font-weight: 600; }
.price span { font-size: 0.8rem; font-weight: 300; color: var(--text-muted); font-family: 'DM Sans', sans-serif; }
.add-btn { width: 36px; height: 36px; border-radius: 50%; border: none; background: var(--ember); color: #fff; font-size: 20px; cursor: pointer; display: grid; place-items: center; transition: background 0.2s, transform 0.15s; line-height: 1; }
.add-btn:hover { background: #a8521f; transform: scale(1.1); }
.add-btn.added { background: var(--green); }

/* ‚îÄ‚îÄ CART DRAWER ‚îÄ‚îÄ */
.cart-overlay { position: fixed; inset: 0; background: rgba(26,26,24,0.5); z-index: 300; opacity: 0; pointer-events: none; transition: opacity 0.3s; backdrop-filter: blur(4px); }
.cart-overlay.open { opacity: 1; pointer-events: all; }
.cart-drawer { position: fixed; top: 0; right: 0; height: 100vh; width: min(480px, 100vw); background: var(--cream); z-index: 301; display: flex; flex-direction: column; transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.4,0,0.2,1); box-shadow: -20px 0 60px rgba(26,26,24,0.15); }
.cart-drawer.open { transform: translateX(0); }
.cart-header { padding: 1.5rem 2rem; border-bottom: 1px solid rgba(26,26,24,0.08); display: flex; align-items: center; justify-content: space-between; }
.cart-header h2 { font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; font-weight: 600; }
.cart-close { background: none; border: none; cursor: pointer; font-size: 24px; color: var(--text-muted); line-height: 1; transition: color 0.2s; }
.cart-close:hover { color: var(--ember); }
.cart-items { flex: 1; overflow-y: auto; padding: 1rem 2rem; }
.cart-empty { text-align: center; padding: 4rem 0; color: var(--text-muted); }
.cart-item { display: grid; grid-template-columns: 60px 1fr auto; gap: 1rem; align-items: center; padding: 1rem 0; border-bottom: 1px solid rgba(26,26,24,0.06); animation: fadeUp 0.3s ease both; }
.cart-item-img { width: 60px; height: 60px; border-radius: 8px; background-size: cover; background-position: center; flex-shrink: 0; }
.cart-item-name { font-family: 'Cormorant Garamond', serif; font-size: 1rem; font-weight: 600; margin-bottom: 2px; }
.cart-item-price { font-size: 13px; color: var(--text-muted); }
.cart-item-controls { display: flex; align-items: center; gap: 8px; }
.qty-btn { width: 28px; height: 28px; border-radius: 50%; border: 1.5px solid rgba(26,26,24,0.15); background: transparent; cursor: pointer; font-size: 16px; display: grid; place-items: center; color: var(--charcoal); transition: all 0.2s; font-weight: 500; line-height: 1; }
.qty-btn:hover { border-color: var(--ember); color: var(--ember); }
.qty-num { font-size: 14px; font-weight: 500; min-width: 20px; text-align: center; }
.cart-footer { padding: 1.5rem 2rem; border-top: 1px solid rgba(26,26,24,0.08); }
.cart-subtotals { margin-bottom: 1.25rem; }
.cart-row { display: flex; justify-content: space-between; font-size: 14px; color: var(--text-muted); margin-bottom: 0.4rem; }
.cart-row.total { font-size: 1.1rem; font-weight: 500; color: var(--charcoal); border-top: 1px solid rgba(26,26,24,0.1); padding-top: 0.75rem; margin-top: 0.5rem; }
.checkout-btn { width: 100%; padding: 16px; background: var(--ember); color: #fff; border: none; border-radius: 8px; font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500; cursor: pointer; letter-spacing: 0.05em; transition: background 0.2s, transform 0.15s; display: flex; align-items: center; justify-content: center; gap: 10px; }
.checkout-btn:hover { background: #a8521f; transform: translateY(-1px); }

/* ‚îÄ‚îÄ PAYMENT MODAL ‚îÄ‚îÄ */
.modal-overlay { position: fixed; inset: 0; background: rgba(26,26,24,0.7); z-index: 400; display: grid; place-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s; padding: 1rem; backdrop-filter: blur(6px); }
.modal-overlay.open { opacity: 1; pointer-events: all; }
.modal { background: #fff; border-radius: 16px; width: min(560px, 100%); max-height: 90vh; overflow-y: auto; transform: scale(0.95) translateY(20px); transition: transform 0.35s cubic-bezier(0.34,1.56,0.64,1); box-shadow: 0 40px 100px rgba(26,26,24,0.25); }
.modal-overlay.open .modal { transform: scale(1) translateY(0); }
.modal-header { padding: 1.75rem 2rem 1.25rem; border-bottom: 1px solid rgba(26,26,24,0.08); display: flex; align-items: center; justify-content: space-between; }
.modal-header h2 { font-family: 'Cormorant Garamond', serif; font-size: 1.7rem; font-weight: 600; }
.modal-close { background: none; border: none; font-size: 22px; cursor: pointer; color: var(--text-muted); transition: color 0.2s; }
.modal-close:hover { color: var(--ember); }
.modal-body { padding: 1.75rem 2rem; }

/* Steps */
.steps { display: flex; margin-bottom: 2rem; }
.step { flex: 1; text-align: center; position: relative; padding-bottom: 1rem; font-size: 11px; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: rgba(26,26,24,0.3); transition: color 0.3s; }
.step.active { color: var(--ember); }
.step.done { color: var(--green); }
.step::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: rgba(26,26,24,0.1); transition: background 0.3s; }
.step.active::after { background: var(--ember); }
.step.done::after { background: var(--green); }
.step-num { width: 28px; height: 28px; border-radius: 50%; border: 2px solid currentColor; display: inline-grid; place-items: center; font-size: 12px; font-weight: 700; margin-bottom: 6px; background: #fff; transition: all 0.3s; }
.step.done .step-num { background: var(--green); color: #fff; border-color: var(--green); }
.step.active .step-num { background: var(--ember); color: #fff; border-color: var(--ember); }

/* Form */
.form-section { display: none; }
.form-section.active { display: block; animation: fadeUp 0.3s ease both; }
.form-group { margin-bottom: 1.25rem; }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
label { display: block; font-size: 12px; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px; }
input, select { width: 100%; padding: 12px 14px; border: 1.5px solid rgba(26,26,24,0.15); border-radius: 8px; font-family: 'DM Sans', sans-serif; font-size: 14px; color: var(--charcoal); background: #fff; transition: border-color 0.2s, box-shadow 0.2s; outline: none; appearance: none; }
input:focus, select:focus { border-color: var(--ember); box-shadow: 0 0 0 3px rgba(196,98,45,0.1); }
.card-input-wrap { position: relative; }
.card-icons { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); display: flex; gap: 4px; }
.card-number-input { padding-right: 90px; letter-spacing: 0.1em; }
.order-summary-mini { background: var(--cream); border-radius: 10px; padding: 1.25rem; margin-bottom: 1.5rem; }
.order-summary-mini h4 { font-family: 'Cormorant Garamond', serif; font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; }
.summary-item { display: flex; justify-content: space-between; font-size: 13px; color: var(--text-muted); margin-bottom: 6px; }
.summary-divider { height: 1px; background: rgba(26,26,24,0.08); margin: 10px 0; }
.summary-total { display: flex; justify-content: space-between; font-weight: 500; font-size: 15px; color: var(--charcoal); }
.pay-btn { width: 100%; padding: 16px; background: var(--charcoal); color: var(--cream); border: none; border-radius: 8px; font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: background 0.2s, transform 0.15s; letter-spacing: 0.05em; margin-top: 1.5rem; }
.pay-btn:hover { background: var(--ember); transform: translateY(-1px); }
.back-btn { background: none; border: none; color: var(--text-muted); cursor: pointer; font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 500; display: flex; align-items: center; gap: 6px; margin-bottom: 1.5rem; transition: color 0.2s; }
.back-btn:hover { color: var(--ember); }

/* Payment method tabs */
.pay-methods { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; }
.pay-method-btn { flex: 1; padding: 10px; border: 1.5px solid rgba(26,26,24,0.12); border-radius: 8px; background: #fff; cursor: pointer; font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 500; color: var(--text-muted); transition: all 0.2s; text-align: center; display: flex; align-items: center; justify-content: center; gap: 6px; }
.pay-method-btn.active { border-color: var(--ember); color: var(--ember); background: rgba(196,98,45,0.04); }
.pay-method-panel { display: none; }
.pay-method-panel.active { display: block; animation: fadeUp 0.25s ease both; }

/* UPI */
.upi-input-wrap { position: relative; }
.upi-verify-btn { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: var(--charcoal); color: #fff; border: none; border-radius: 4px; font-size: 11px; font-weight: 500; padding: 6px 12px; cursor: pointer; transition: background 0.2s; }
.upi-verify-btn:hover { background: var(--ember); }
.upi-apps { display: flex; gap: 0.75rem; margin-top: 1rem; }
.upi-app { flex: 1; border: 1.5px solid rgba(26,26,24,0.12); border-radius: 8px; padding: 10px 6px; text-align: center; cursor: pointer; font-size: 11px; font-weight: 500; color: var(--text-muted); transition: all 0.2s; }
.upi-app:hover, .upi-app.selected { border-color: var(--ember); color: var(--ember); background: rgba(196,98,45,0.04); }
.upi-app .app-icon { font-size: 22px; display: block; margin-bottom: 4px; }

/* COD */
.cod-info { background: var(--cream); border-radius: 10px; padding: 1.5rem; text-align: center; }
.cod-info .cod-icon { font-size: 40px; margin-bottom: 0.75rem; }
.cod-info p { font-size: 14px; color: var(--text-muted); line-height: 1.7; }

/* Processing */
.processing { text-align: center; padding: 3rem 0; }
.spinner { width: 50px; height: 50px; border: 3px solid rgba(196,98,45,0.2); border-top-color: var(--ember); border-radius: 50%; animation: spin 0.8s linear infinite; margin: 0 auto 1.5rem; }
.processing h3 { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; margin-bottom: 0.5rem; }
.processing p { font-size: 14px; color: var(--text-muted); }

/* Success */
.success-view { text-align: center; padding: 2.5rem 0; }
.success-icon { font-size: 60px; margin-bottom: 1rem; animation: popIn 0.5s cubic-bezier(0.34,1.56,0.64,1) both; }
.success-view h3 { font-family: 'Cormorant Garamond', serif; font-size: 2rem; font-weight: 300; margin-bottom: 0.75rem; }
.success-view p { font-size: 14px; color: var(--text-muted); line-height: 1.7; }
.order-id { font-family: monospace; background: var(--cream); padding: 8px 16px; border-radius: 6px; font-size: 13px; display: inline-block; margin: 1rem 0; letter-spacing: 0.1em; }
.done-btn { margin-top: 1.5rem; padding: 12px 32px; background: var(--ember); color: #fff; border: none; border-radius: 6px; font-family: 'DM Sans', sans-serif; font-size: 14px; font-weight: 500; cursor: pointer; transition: background 0.2s; }
.done-btn:hover { background: #a8521f; }
.security-note { display: flex; align-items: center; justify-content: center; gap: 6px; margin-top: 1rem; font-size: 12px; color: rgba(26,26,24,0.35); }

/* About */
.about-strip { background: var(--charcoal); color: var(--cream); padding: 80px 5%; display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; }
.about-strip .section-label { color: var(--gold); }
.about-text { font-size: 15px; font-weight: 300; line-height: 1.9; color: rgba(245,240,232,0.6); margin-top: 1.5rem; }
.stats { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
.stat { border-left: 2px solid var(--ember); padding-left: 1.5rem; }
.stat-num { font-family: 'Cormorant Garamond', serif; font-size: 3rem; font-weight: 300; color: var(--cream); line-height: 1; }
.stat-label { font-size: 12px; font-weight: 400; letter-spacing: 0.1em; color: rgba(245,240,232,0.4); margin-top: 0.3rem; text-transform: uppercase; }

footer { background: #111110; color: rgba(245,240,232,0.35); padding: 40px 5%; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; font-size: 13px; }
.footer-logo { font-family: 'Cormorant Garamond', serif; font-size: 1.2rem; color: var(--cream); }
.footer-logo span { color: var(--ember); }

@keyframes fadeUp { from { opacity:0; transform:translateY(24px); } to { opacity:1; transform:translateY(0); } }
@keyframes bump { 0%,100%{transform:scale(1)} 50%{transform:scale(1.3)} }
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes popIn { from{transform:scale(0)} to{transform:scale(1)} }

.toast { position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%) translateY(80px); background: var(--charcoal); color: var(--cream); padding: 12px 24px; border-radius: 50px; font-size: 14px; font-weight: 500; z-index: 500; transition: transform 0.4s cubic-bezier(0.34,1.56,0.64,1); pointer-events: none; white-space: nowrap; }
.toast.show { transform: translateX(-50%) translateY(0); }

@media (max-width: 768px) {
  .nav-links { display: none; }
  .about-strip { grid-template-columns: 1fr; }
  .hero h1 { font-size: clamp(3rem,16vw,6rem); }
  .form-row { grid-template-columns: 1fr; }
  .pay-methods { flex-wrap: wrap; }
}
</style>
</head>
<body>

<!-- HERO -->
<section class="hero" id="home">
  <div class="hero-content">
    <div class="badge">‚ú¶ For You ‚Äî Opened Since 2026</div>
    <h1>Bhai G <br><em>&amp; Cafe</em></h1>
    <p class="hero-sub">Fire-kissed cuisine ¬∑ Artisanal ingredients ¬∑ Soulful ambiance</p>
    <a href="#menu" class="scroll-cta"><span class="line"></span> Explore the Menu <span class="line"></span></a>
  </div>
</section>

<!-- NAV -->
<nav>
  <div class="nav-logo">Bhai G  <span>&amp;</span> Cafe</div>
  <ul class="nav-links">
    <li><a href="#home">Home</a></li>
    <li><a href="#menu">Menu</a></li>
    <li><a href="#about">About</a></li>
    <li><a href="#" class="nav-reserve">Reserve</a></li>
  </ul>
  <button class="cart-nav-btn" onclick="openCart()">
    üõí Cart <span class="cart-count" id="cartCount">0</span>
  </button>
</nav>

<!-- MENU -->
<section id="menu">
  <div class="menu-header">
    <div>
      <div class="section-label">Our Offerings</div>
      <h2 class="section-title">Crafted with<br><em style="font-family:'Cormorant Garamond',serif;font-style:italic;">passion &amp; fire</em></h2>
    </div>
    <div class="filters">
      <button class="filter-btn active" onclick="filterMenu('all',this)">All</button>
      <button class="filter-btn" onclick="filterMenu('starters',this)">Starters</button>
      <button class="filter-btn" onclick="filterMenu('mains',this)">Mains</button>
      <button class="filter-btn" onclick="filterMenu('grill',this)">From the Grill</button>
      <button class="filter-btn" onclick="filterMenu('desserts',this)">Desserts</button>
      <button class="filter-btn" onclick="filterMenu('drinks',this)">Drinks</button>
    </div>
  </div>

  <div class="menu-grid" id="menuGrid">
    <div class="card" data-cat="starters" data-name="Smoked Burrata & Heirloom Tomatoes" data-price="14" data-img="https://images.unsplash.com/photo-1603073163308-9654c3fb70b5?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1603073163308-9654c3fb70b5?w=600&q=80')"><span class="card-badge new">Chef's Pick</span></div>
      <div class="card-body"><div class="card-category">Starters</div><div class="card-title">Smoked Burrata & Heirloom Tomatoes</div><div class="card-desc">Cold-smoked burrata on heirloom tomatoes, drizzled with aged balsamic and basil oil.</div><div class="card-footer"><div class="price">$14 <span>/ serving</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="starters" data-name="Crispy Polenta Bites" data-price="11" data-img="https://images.unsplash.com/photo-1625944230945-1b7dd3b949ab?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1625944230945-1b7dd3b949ab?w=600&q=80')"><span class="card-badge veg">Veg</span></div>
      <div class="card-body"><div class="card-category">Starters</div><div class="card-title">Crispy Polenta Bites</div><div class="card-desc">Golden polenta cubes with whipped ricotta, sun-dried tomato tapenade, and fresh micro herbs.</div><div class="card-footer"><div class="price">$11 <span>/ serving</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="starters" data-name="Charred Prawn Skewers" data-price="16" data-img="https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=600&q=80')"><span class="card-badge spicy">Spicy</span></div>
      <div class="card-body"><div class="card-category">Starters</div><div class="card-title">Charred Prawn Skewers</div><div class="card-desc">Tiger prawns in chilli butter, flash-grilled over open flame, served with mango aioli.</div><div class="card-footer"><div class="price">$16 <span>/ serving</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="mains" data-name="Saffron Lobster Risotto" data-price="38" data-img="https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1476718406336-bb5a9690ee2a?w=600&q=80')"><span class="card-badge new">New</span></div>
      <div class="card-body"><div class="card-category">Mains</div><div class="card-title">Saffron Lobster Risotto</div><div class="card-desc">Arborio rice in lobster bisque, topped with grilled lobster tail and saffron foam.</div><div class="card-footer"><div class="price">$38 <span>/ plate</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="mains" data-name="Wild Mushroom Wellington" data-price="26" data-img="https://images.unsplash.com/photo-1547592180-85f173990554?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1547592180-85f173990554?w=600&q=80')"><span class="card-badge veg">Veg</span></div>
      <div class="card-body"><div class="card-category">Mains</div><div class="card-title">Wild Mushroom Wellington</div><div class="card-desc">Forest mushroom duxelles in puff pastry with truffle jus and roasted root vegetables.</div><div class="card-footer"><div class="price">$26 <span>/ plate</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="mains" data-name="Slow-Braised Short Rib" data-price="34" data-img="https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=600&q=80')"><span class="card-badge spicy">Spicy</span></div>
      <div class="card-body"><div class="card-category">Mains</div><div class="card-title">Slow-Braised Short Rib</div><div class="card-desc">48-hour braised beef short rib with smoky chipotle glaze, creamed mash, and pickled slaw.</div><div class="card-footer"><div class="price">$34 <span>/ plate</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="grill" data-name="Ember-Kissed Ribeye" data-price="52" data-img="https://images.unsplash.com/photo-1544025162-d76594e3d3e0?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1544025162-d76594e3d3e0?w=600&q=80')"><span class="card-badge new">Signature</span></div>
      <div class="card-body"><div class="card-category">From the Grill</div><div class="card-title">Ember-Kissed Ribeye</div><div class="card-desc">28-day dry-aged 300g ribeye over wood ember, with bone marrow butter and house jus.</div><div class="card-footer"><div class="price">$52 <span>/ plate</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="grill" data-name="Spatchcock Lemon Herb Chicken" data-price="29" data-img="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600&q=80')"></div>
      <div class="card-body"><div class="card-category">From the Grill</div><div class="card-title">Spatchcock Lemon Herb Chicken</div><div class="card-desc">Free-range chicken basted in preserved lemon and herb butter. Served with chimichurri.</div><div class="card-footer"><div class="price">$29 <span>/ plate</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="grill" data-name="Grilled Cauliflower Steak" data-price="22" data-img="https://images.unsplash.com/photo-1558030006-450675393462?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1558030006-450675393462?w=600&q=80')"><span class="card-badge veg">Veg</span></div>
      <div class="card-body"><div class="card-category">From the Grill</div><div class="card-title">Grilled Cauliflower Steak</div><div class="card-desc">Whole cauliflower with harissa yogurt, pomegranate, toasted pine nuts, and fresh mint.</div><div class="card-footer"><div class="price">$22 <span>/ plate</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="desserts" data-name="Salted Caramel Lava Cake" data-price="13" data-img="https://images.unsplash.com/photo-1551024601-bec78aea704b?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1551024601-bec78aea704b?w=600&q=80')"><span class="card-badge new">Must Try</span></div>
      <div class="card-body"><div class="card-category">Desserts</div><div class="card-title">Salted Caramel Lava Cake</div><div class="card-desc">Dark chocolate fondant with molten salted caramel centre and vanilla bean gelato.</div><div class="card-footer"><div class="price">$13 <span>/ serving</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="desserts" data-name="Yuzu Panna Cotta" data-price="11" data-img="https://images.unsplash.com/photo-1488477181946-6428a0291777?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1488477181946-6428a0291777?w=600&q=80')"><span class="card-badge veg">Veg</span></div>
      <div class="card-body"><div class="card-category">Desserts</div><div class="card-title">Yuzu Panna Cotta</div><div class="card-desc">Silky yuzu panna cotta with blood orange compote and white chocolate shards.</div><div class="card-footer"><div class="price">$11 <span>/ serving</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="desserts" data-name="Ash & Honey Cheesecake" data-price="12" data-img="https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1571115177098-24ec42ed204d?w=600&q=80')"></div>
      <div class="card-body"><div class="card-category">Desserts</div><div class="card-title">Ash & Honey Cheesecake</div><div class="card-desc">Baked cheesecake with activated charcoal crust, raw honey drizzle, and candied walnuts.</div><div class="card-footer"><div class="price">$12 <span>/ serving</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="drinks" data-name="Ember Smoked Negroni" data-price="16" data-img="https://images.unsplash.com/photo-1551538827-9c037cb4f32a?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1551538827-9c037cb4f32a?w=600&q=80')"><span class="card-badge new">Signature</span></div>
      <div class="card-body"><div class="card-category">Drinks</div><div class="card-title">Ember Smoked Negroni</div><div class="card-desc">Classic Negroni finished with applewood smoke, served in a theatrical smoke-filled glass.</div><div class="card-footer"><div class="price">$16 <span>/ glass</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="drinks" data-name="Charcoal Lemonade" data-price="8" data-img="https://images.unsplash.com/photo-1543253687-c931c8e01820?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1543253687-c931c8e01820?w=600&q=80')"><span class="card-badge veg">Non-Alc</span></div>
      <div class="card-body"><div class="card-category">Drinks</div><div class="card-title">Charcoal Lemonade</div><div class="card-desc">Cold-pressed lemonade with activated charcoal, ginger, and a float of rose water.</div><div class="card-footer"><div class="price">$8 <span>/ glass</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
    <div class="card" data-cat="drinks" data-name="Gold Turmeric Latte" data-price="7" data-img="https://images.unsplash.com/photo-1560508180-03f285f67ded?w=600&q=80">
      <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1560508180-03f285f67ded?w=600&q=80')"></div>
      <div class="card-body"><div class="card-category">Drinks</div><div class="card-title">Gold Turmeric Latte</div><div class="card-desc">Golden milk with turmeric, oat milk, cardamom, and black pepper. Warm or iced.</div><div class="card-footer"><div class="price">$7 <span>/ cup</span></div><button class="add-btn" onclick="addToCart(this)">+</button></div></div>
    </div>
  </div>
</section>

<!-- ABOUT -->
<div class="about-strip" id="about">
  <div>
    <div class="section-label">Our Story</div>
    <h2 class="section-title" style="color:var(--cream)">Born from<br><em style="font-family:'Cormorant Garamond',serif;font-style:italic;">flames &amp; dreams</em></h2>
    <p class="about-text">Bhai G & Cafe was born from a simple belief ‚Äî that food cooked over real fire tells a story no oven can replicate. Our chef-founders traveled from Oaxaca to Kyushu studying live-fire techniques before bringing their craft home. Every dish carries that spirit: honest ingredients, patient technique, and a genuine love for the table.</p>
  </div>
  <div class="stats">
    <div class="stat"><div class="stat-num">48</div><div class="stat-label">Seats</div></div>
    <div class="stat"><div class="stat-num">30+</div><div class="stat-label">Dishes</div></div>
    <div class="stat"><div class="stat-num">100%</div><div class="stat-label">Local Sourced</div></div>
    <div class="stat"><div class="stat-num">2026</div><div class="stat-label">Est.</div></div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-logo">Bhai G  <span>&amp;</span> Cafe</div>
  <div>Sudpura Kashganj, Uttar Pradesh ¬∑ Mon‚ÄìSun 9am‚Äì10pm</div>
  <div>¬© 2026 Bhai G & Cafe ¬∑ All rights reserved</div>
</footer>

<!-- CART DRAWER -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <h2>Your Order</h2>
    <button class="cart-close" onclick="closeCart()">‚úï</button>
  </div>
  <div class="cart-items" id="cartItems">
    <div class="cart-empty" id="cartEmpty">
      <div style="font-size:48px;opacity:0.3;margin-bottom:1rem">üõí</div>
      <p style="font-size:14px">Your cart is empty.<br>Add something delicious!</p>
    </div>
  </div>
  <div class="cart-footer" id="cartFooter" style="display:none">
    <div class="cart-subtotals">
      <div class="cart-row"><span>Subtotal</span><span id="subtotalVal">$0.00</span></div>
      <div class="cart-row"><span>Tax (8%)</span><span id="taxVal">$0.00</span></div>
      <div class="cart-row"><span>Service charge</span><span>$2.00</span></div>
      <div class="cart-row total"><span>Total</span><span id="totalVal">$0.00</span></div>
    </div>
    <button class="checkout-btn" onclick="openPayment()">üîí Proceed to Checkout</button>
  </div>
</div>

<!-- PAYMENT MODAL -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal" id="paymentModal">
    <div class="modal-header" id="modalHeader">
      <h2>Secure Checkout</h2>
      <button class="modal-close" onclick="closePayment()">‚úï</button>
    </div>
    <div class="modal-body">
      <!-- Steps -->
      <div class="steps" id="stepsBar">
        <div class="step active" id="step1"><div class="step-num">1</div>Details</div>
        <div class="step" id="step2"><div class="step-num">2</div>Payment</div>
        <div class="step" id="step3"><div class="step-num">3</div>Review</div>
      </div>

      <!-- STEP 1 -->
      <div class="form-section active" id="section1">
        <div class="form-group"><label>Full Name</label><input type="text" id="fullName" placeholder="Jane Smith" autocomplete="name"></div>
        <div class="form-row">
          <div class="form-group"><label>Email</label><input type="email" id="email" placeholder="jane@example.com"></div>
          <div class="form-group"><label>Phone</label><input type="tel" id="phone" placeholder="+1 555 000 0000"></div>
        </div>
        <div class="form-group">
          <label>Order Type</label>
          <select id="deliveryType" onchange="toggleDelivery()">
            <option value="dine">üçΩ  Dine In</option>
            <option value="takeaway">ü•°  Takeaway</option>
            <option value="delivery">üöÄ  Home Delivery</option>
          </select>
        </div>
        <div class="form-group" id="addressGroup" style="display:none"><label>Delivery Address</label><input type="text" id="address" placeholder="123 Main Street, City, ZIP"></div>
        <div class="form-group" id="tableGroup"><label>Table Number (optional)</label><input type="text" id="tableNum" placeholder="e.g. Table 7"></div>
        <div class="form-group"><label>Special Instructions</label><input type="text" id="specialInst" placeholder="Allergies, dietary notes‚Ä¶"></div>
        <button class="pay-btn" onclick="goToStep2()">Continue to Payment ‚Üí</button>
      </div>

      <!-- STEP 2 -->
      <div class="form-section" id="section2">
        <button class="back-btn" onclick="showStep(1)">‚Üê Back</button>
        <div class="order-summary-mini"><h4>Order Summary</h4><div id="miniSummaryItems"></div><div class="summary-divider"></div><div class="summary-total"><span>Total Due</span><span id="miniTotal"></span></div></div>
        <label style="margin-bottom:0.75rem;display:block">Payment Method</label>
        <div class="pay-methods">
          <button class="pay-method-btn active" onclick="selectPayMethod('card',this)">üí≥ Card</button>
          <button class="pay-method-btn" onclick="selectPayMethod('upi',this)">üì± UPI</button>
          <button class="pay-method-btn" onclick="selectPayMethod('wallet',this)">üëõ Wallet</button>
          <button class="pay-method-btn" onclick="selectPayMethod('cod',this)">üíµ Cash</button>
        </div>

        <!-- Card -->
        <div class="pay-method-panel active" id="panel-card">
          <div class="form-group"><label>Cardholder Name</label><input type="text" id="cardName" placeholder="Jane Smith"></div>
          <div class="form-group"><label>Card Number</label><div class="card-input-wrap"><input class="card-number-input" type="text" id="cardNumber" placeholder="1234  5678  9012  3456" maxlength="19" oninput="formatCard(this)"><div class="card-icons"><span id="cardBrand">üí≥</span></div></div></div>
          <div class="form-row">
            <div class="form-group"><label>Expiry</label><input type="text" id="cardExpiry" placeholder="MM / YY" maxlength="7" oninput="formatExpiry(this)"></div>
            <div class="form-group"><label>CVV</label><input type="password" id="cardCvv" placeholder="‚Ä¢‚Ä¢‚Ä¢" maxlength="4"></div>
          </div>
          <p style="font-size:11px;color:var(--text-muted);margin-top:-0.5rem">Test card: 4242 4242 4242 4242 ¬∑ Any future date ¬∑ Any 3 digits</p>
        </div>

        <!-- UPI -->
        <div class="pay-method-panel" id="panel-upi">
          <div class="form-group"><label>UPI ID</label><div class="upi-input-wrap"><input type="text" id="upiId" placeholder="yourname@okaxis" style="padding-right:90px"><button class="upi-verify-btn" onclick="verifyUPI()">Verify</button></div></div>
          <label style="margin-bottom:0.5rem;display:block">Or choose app</label>
          <div class="upi-apps">
            <div class="upi-app" onclick="selectUPIApp(this)"><span class="app-icon">üü¢</span>GPay</div>
            <div class="upi-app" onclick="selectUPIApp(this)"><span class="app-icon">üü£</span>PhonePe</div>
            <div class="upi-app" onclick="selectUPIApp(this)"><span class="app-icon">üîµ</span>Paytm</div>
            <div class="upi-app" onclick="selectUPIApp(this)"><span class="app-icon">üü†</span>BHIM</div>
          </div>
        </div>

        <!-- Wallet -->
        <div class="pay-method-panel" id="panel-wallet">
          <div class="upi-apps" style="flex-wrap:wrap;gap:0.75rem">
            <div class="upi-app" onclick="selectUPIApp(this)" style="flex:0 0 calc(50% - 0.375rem)"><span class="app-icon">üçé</span>Apple Pay</div>
            <div class="upi-app" onclick="selectUPIApp(this)" style="flex:0 0 calc(50% - 0.375rem)"><span class="app-icon">üîµ</span>Google Pay</div>
            <div class="upi-app" onclick="selectUPIApp(this)" style="flex:0 0 calc(50% - 0.375rem)"><span class="app-icon">üÖøÔ∏è</span>PayPal</div>
            <div class="upi-app" onclick="selectUPIApp(this)" style="flex:0 0 calc(50% - 0.375rem)"><span class="app-icon">üü°</span>Amazon Pay</div>
          </div>
        </div>

        <!-- COD -->
        <div class="pay-method-panel" id="panel-cod">
          <div class="cod-info"><div class="cod-icon">üíµ</div><p>Pay with cash when your order arrives or when you pick it up.<br>Please keep exact change ready.</p></div>
        </div>

        <button class="pay-btn" onclick="goToStep3()">Review Order ‚Üí</button>
        <div class="security-note" style="margin-top:1rem">üîí 256-bit SSL ¬∑ PCI DSS Compliant ¬∑ End-to-end encrypted</div>
      </div>

      <!-- STEP 3 -->
      <div class="form-section" id="section3">
        <button class="back-btn" onclick="showStep(2)">‚Üê Back</button>
        <div class="order-summary-mini">
          <h4>Final Review</h4>
          <div id="reviewItems"></div>
          <div class="summary-divider"></div>
          <div class="summary-item"><span>Subtotal</span><span id="reviewSubtotal"></span></div>
          <div class="summary-item"><span>Tax (8%)</span><span id="reviewTax"></span></div>
          <div class="summary-item"><span>Service</span><span>$2.00</span></div>
          <div class="summary-divider"></div>
          <div class="summary-total"><span>Total</span><span id="reviewTotal"></span></div>
        </div>
        <div class="order-summary-mini">
          <h4>Your Details</h4>
          <div id="reviewDetails" style="font-size:13px;color:var(--text-muted);line-height:2"></div>
        </div>
        <p id="reviewPayment" style="font-size:13px;color:var(--text-muted);text-align:center;margin-bottom:0.5rem"></p>
        <button class="pay-btn" id="finalPayBtn" onclick="processPayment()">üîí <span id="payBtnLabel">Pay Now</span></button>
        <div class="security-note" style="margin-top:1rem">üîí Your payment is protected and encrypted</div>
      </div>

      <!-- PROCESSING -->
      <div class="form-section" id="sectionProcessing">
        <div class="processing">
          <div class="spinner"></div>
          <h3>Processing Payment‚Ä¶</h3>
          <p>Please don't close this window</p>
        </div>
      </div>

      <!-- SUCCESS -->
      <div class="form-section" id="sectionSuccess">
        <div class="success-view">
          <div class="success-icon">‚úÖ</div>
          <h3>Order Confirmed!</h3>
          <p>Thank you for dining with Ember & Ash.<br>Your order is being prepared with love.</p>
          <div class="order-id" id="orderIdDisplay"></div>
          <p style="font-size:13px;color:var(--text-muted)">A confirmation has been sent to your email.</p>
          <button class="done-btn" onclick="completedOrder()">Back to Menu</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
let cart = [];
let currentPayMethod = 'card';

// ‚îÄ‚îÄ FILTER ‚îÄ‚îÄ
function filterMenu(cat, btn) {
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('.card').forEach(card => {
    const show = cat === 'all' || card.dataset.cat === cat;
    card.classList.toggle('hidden', !show);
    if (show) { card.style.animation = 'none'; card.offsetHeight; card.style.animation = 'fadeUp 0.4s ease both'; }
  });
}

// ‚îÄ‚îÄ CART ‚îÄ‚îÄ
function addToCart(btn) {
  const card = btn.closest('.card');
  const name = card.dataset.name;
  const price = parseFloat(card.dataset.price);
  const img = card.dataset.img;
  const existing = cart.find(i => i.name === name);
  if (existing) { existing.qty++; } else { cart.push({ name, price, img, qty: 1 }); }
  btn.textContent = '‚úì'; btn.classList.add('added');
  setTimeout(() => { btn.textContent = '+'; btn.classList.remove('added'); }, 1000);
  updateCartBadge(); renderCartItems();
  showToast(`"${name}" added to cart`);
}

function updateCartBadge() {
  const total = cart.reduce((s, i) => s + i.qty, 0);
  const el = document.getElementById('cartCount');
  el.textContent = total;
  el.classList.remove('bump'); void el.offsetWidth; el.classList.add('bump');
}

function renderCartItems() {
  const container = document.getElementById('cartItems');
  const footer = document.getElementById('cartFooter');
  const empty = document.getElementById('cartEmpty');
  if (cart.length === 0) {
    container.innerHTML = ''; container.appendChild(empty);
    empty.style.display = ''; footer.style.display = 'none'; return;
  }
  empty.style.display = 'none'; footer.style.display = '';
  // rebuild list items only (keep empty node)
  Array.from(container.querySelectorAll('.cart-item')).forEach(e => e.remove());
  cart.forEach((item, idx) => {
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <div class="cart-item-img" style="background-image:url('${item.img}')"></div>
      <div><div class="cart-item-name">${item.name}</div><div class="cart-item-price">$${item.price.toFixed(2)} each</div></div>
      <div class="cart-item-controls">
        <button class="qty-btn" onclick="changeQty(${idx},-1)">‚àí</button>
        <span class="qty-num">${item.qty}</span>
        <button class="qty-btn" onclick="changeQty(${idx},1)">+</button>
      </div>`;
    container.appendChild(div);
  });
  updateTotals();
}

function changeQty(idx, delta) {
  cart[idx].qty += delta;
  if (cart[idx].qty <= 0) cart.splice(idx, 1);
  updateCartBadge(); renderCartItems();
}

function getSubtotal() { return cart.reduce((s, i) => s + i.price * i.qty, 0); }
function getTax() { return getSubtotal() * 0.08; }
function getTotal() { return getSubtotal() + getTax() + 2; }

function updateTotals() {
  document.getElementById('subtotalVal').textContent = '$' + getSubtotal().toFixed(2);
  document.getElementById('taxVal').textContent = '$' + getTax().toFixed(2);
  document.getElementById('totalVal').textContent = '$' + getTotal().toFixed(2);
}

function openCart() { document.getElementById('cartOverlay').classList.add('open'); document.getElementById('cartDrawer').classList.add('open'); document.body.style.overflow = 'hidden'; }
function closeCart() { document.getElementById('cartOverlay').classList.remove('open'); document.getElementById('cartDrawer').classList.remove('open'); document.body.style.overflow = ''; }

// ‚îÄ‚îÄ PAYMENT ‚îÄ‚îÄ
function openPayment() {
  if (cart.length === 0) { showToast('Your cart is empty!'); return; }
  closeCart();
  showStep(1);
  document.getElementById('modalOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closePayment() { document.getElementById('modalOverlay').classList.remove('open'); document.body.style.overflow = ''; }

function showStep(n) {
  ['section1','section2','section3','sectionProcessing','sectionSuccess'].forEach(s => document.getElementById(s).classList.remove('active'));
  const sec = document.getElementById('section' + n);
  if (sec) sec.classList.add('active');
  [1,2,3].forEach(i => {
    const el = document.getElementById('step' + i);
    el.classList.remove('active','done');
    if (i < n) el.classList.add('done');
    else if (i === n) el.classList.add('active');
  });
  const showHeader = n <= 3;
  document.getElementById('stepsBar').style.display = showHeader ? 'flex' : 'none';
  document.getElementById('modalHeader').style.display = showHeader ? 'flex' : 'none';
}

function goToStep2() {
  if (!document.getElementById('fullName').value.trim()) { showToast('Please enter your name'); return; }
  if (!document.getElementById('email').value.trim()) { showToast('Please enter your email'); return; }
  let html = '';
  cart.forEach(i => { html += `<div class="summary-item"><span>${i.name} √ó ${i.qty}</span><span>$${(i.price*i.qty).toFixed(2)}</span></div>`; });
  document.getElementById('miniSummaryItems').innerHTML = html;
  document.getElementById('miniTotal').textContent = '$' + getTotal().toFixed(2);
  showStep(2);
}

function goToStep3() {
  if (currentPayMethod === 'card') {
    const num = document.getElementById('cardNumber').value.replace(/\s/g,'');
    if (num.length < 16) { showToast('Please enter a valid 16-digit card number'); return; }
    if (!document.getElementById('cardExpiry').value.includes('/')) { showToast('Please enter card expiry date'); return; }
    if (document.getElementById('cardCvv').value.length < 3) { showToast('Please enter CVV'); return; }
  }
  // Populate review
  let html = '';
  cart.forEach(i => { html += `<div class="summary-item"><span>${i.name} √ó ${i.qty}</span><span>$${(i.price*i.qty).toFixed(2)}</span></div>`; });
  document.getElementById('reviewItems').innerHTML = html;
  document.getElementById('reviewSubtotal').textContent = '$' + getSubtotal().toFixed(2);
  document.getElementById('reviewTax').textContent = '$' + getTax().toFixed(2);
  document.getElementById('reviewTotal').textContent = '$' + getTotal().toFixed(2);
  const dtype = document.getElementById('deliveryType').value;
  const dlabel = {dine:'üçΩ Dine In',takeaway:'ü•° Takeaway',delivery:'üöÄ Home Delivery'}[dtype];
  let det = `<strong>${document.getElementById('fullName').value}</strong><br>${document.getElementById('email').value}<br>${document.getElementById('phone').value||'No phone'}<br>${dlabel}`;
  if (dtype==='delivery') det += `<br>${document.getElementById('address').value}`;
  if (dtype==='dine' && document.getElementById('tableNum').value) det += `<br>Table: ${document.getElementById('tableNum').value}`;
  if (document.getElementById('specialInst').value) det += `<br>Note: ${document.getElementById('specialInst').value}`;
  document.getElementById('reviewDetails').innerHTML = det;
  const pmL = {card:'üí≥ Credit/Debit Card',upi:'üì± UPI Payment',wallet:'üëõ Digital Wallet',cod:'üíµ Cash on Delivery'};
  document.getElementById('reviewPayment').textContent = 'Payment via ' + pmL[currentPayMethod];
  document.getElementById('payBtnLabel').textContent = currentPayMethod==='cod' ? 'Place Order' : 'Pay $'+getTotal().toFixed(2);
  showStep(3);
}

function processPayment() {
  document.getElementById('stepsBar').style.display = 'none';
  document.getElementById('modalHeader').style.display = 'none';
  ['section3'].forEach(s => document.getElementById(s).classList.remove('active'));
  document.getElementById('sectionProcessing').classList.add('active');
  setTimeout(() => {
    document.getElementById('sectionProcessing').classList.remove('active');
    document.getElementById('sectionSuccess').classList.add('active');
    const oid = 'EA-' + Math.random().toString(36).substr(2,8).toUpperCase();
    document.getElementById('orderIdDisplay').textContent = 'Order ID: ' + oid;
    cart = []; updateCartBadge(); renderCartItems();
  }, 2800);
}

function completedOrder() {
  closePayment();
  document.querySelectorAll('#paymentModal input').forEach(i => i.value = '');
  document.getElementById('deliveryType').value = 'dine';
  toggleDelivery();
}

function selectPayMethod(method, btn) {
  currentPayMethod = method;
  document.querySelectorAll('.pay-method-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.querySelectorAll('.pay-method-panel').forEach(p => p.classList.remove('active'));
  document.getElementById('panel-' + method).classList.add('active');
}

function toggleDelivery() {
  const v = document.getElementById('deliveryType').value;
  document.getElementById('addressGroup').style.display = v==='delivery' ? '' : 'none';
  document.getElementById('tableGroup').style.display = v==='dine' ? '' : 'none';
}

function verifyUPI() {
  const v = document.getElementById('upiId').value.trim();
  if (!v.includes('@')) { showToast('Enter a valid UPI ID (e.g. name@okaxis)'); return; }
  showToast('‚úì UPI ID verified!');
}

function selectUPIApp(el) {
  document.querySelectorAll('.upi-app').forEach(a => a.classList.remove('selected'));
  el.classList.add('selected');
}

function formatCard(input) {
  let v = input.value.replace(/\D/g,'').substring(0,16);
  input.value = v.replace(/(.{4})/g,'$1 ').trim();
  const b = document.getElementById('cardBrand');
  b.textContent = v.startsWith('4') ? 'üîµ' : v.startsWith('5') ? 'üü†' : v.startsWith('3') ? 'üü¶' : 'üí≥';
}

function formatExpiry(input) {
  let v = input.value.replace(/\D/g,'');
  if (v.length >= 2) v = v.substring(0,2) + ' / ' + v.substring(2,4);
  input.value = v;
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2500);
}

document.getElementById('modalOverlay').addEventListener('click', function(e) { if (e.target===this) closePayment(); });
</script>
</body>
</html>
